% !TEX root =main.tex

\subsection{More Efficient Proof of Storage-Time}\label{More-Efficient-Proof-of-Storage-Time}

In the following, we show how C-TLP can be used in the PoSt protocols that were proposed in  \cite{Storage-Time} to improve their costs. As stated previously,  two protocols: basic PoSt and compact PoSt, supporting proof of storage-time (in the random oracle) are proposed in \cite{Storage-Time}, where  basic PoSt uses VDF and is publicly verifiable while compact PoSt  utilises a trapdoor delay function (TDF) and is privately verifiable. Also, recall that VDF/TDF is used to allow the server to derive multiple challenges at different points over a certain time period $T$. Note, both types of delay function (VDF and TDF) impose the same computation cost to the server, i.e. $3Tz$ modular exponentiations and $Tz$ modular multiplication if the fastest delay function is used \cite{Wesolowski19}. 

Now we show how to replace the delay function in these schemes with C-TLP, in the random oracle.  As in the PoSt protocols, the client at the setup precomputes random challenges (and their PoR tags). But, it encodes all challenges for $z-1$ PoR proofs (excluding first one)  into puzzles using C-TLP. It sends to the server all puzzles, encoded file and plaintext challenges for the first PoR proof. As before, the server generates the first PoR proof using the challenges sent to it in the plaintext. Nevertheless, to find $j\text{\small{-th}}$ challenge to generate  $j\text{\small{-th}}$ PoR proof, the server solves the related puzzle, where $j>1$. It sends to the client all PoR proofs (or a combination of them) after period $T$. Also, if the basic PoSt  is used,  the server sends C-TLP proofs that can be efficiently verified by anyone. On the other hand, if the compact PoSt is used, then the server does not need to send the C-TLP's proofs, as the client already knows the random challenges. The adjustments considerably improve the PoSt protocols' costs. In particular,  the server's computation cost would be $\frac{1}{3}$ of the costs imposed by either of the original PoSt protocols. Also,  there will be $3z$ further reduction in the number of exponentiations:  (a) at the verifier side, in the basic PoSt, as it does not need to perform any exponentiation to check the correctness of C-TLP's output,  (b) at the client-side, in the compact PoSt,  as the client does not need to evaluate TDF at the setup to precompute the challenges which in total involves $3z$ modular exponentiations over $\phi(N)$. Moreover, the proof size would be reduced by a factor of $6.5$.

\begin{remark}
Although the use of C-TLP in the PoSt protocols can reduce the computation and communication costs, (a) the server-side I/O cost in these schemes (i.e. $O(\log n)$ in the basic PoSt and $O(n)$ in the compact one), and (b) PoR's proof size complexity in the basic PoSt, will remain the same. Because these costs stem from the underlying PoR schemes, used as a black box, by the two PoSt protocols.
\end{remark}